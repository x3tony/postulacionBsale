(()=>{var t={277:t=>{t.exports=class{constructor(){this.URI="/api/category"}async getCategories(){return(await fetch(this.URI)).json()}async findProductPerCategory(t){const e=await fetch(`${this.URI}/${t}`),r=await e.json();return console.log(r),r}}},144:t=>{t.exports=class{constructor(){this.URI="/api/product"}async getProducts(){return(await fetch(this.URI)).json()}async findProducts(t){const e=await fetch(`${this.URI}/${t}`),r=await e.json();return console.log(r),r}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(144),e=r.n(t),n=r(277),o=r.n(n);const a=new(e()),s=new(o()),c=new class{async renderProduct(){const t=await a.getProducts(),e=await s.getCategories();t.forEach(this.productsRender),e.forEach(this.categoryRender)}productsRender(t){const e=document.getElementById("products"),r=document.createElement("div");r.innerHTML=`\n        <div class="product-item">\n            <img src=${t.url_image} alt="" onerror="this.src='https://aqt.cl/wp-content/uploads/2020/09/sin_imagen.jpg';" width="100%">\n            <div class="txt">\n                <a><small>${t.name}</small></a>\n            </div>\n            <div class="footer">\n                <p class="left">${t.price-t.discount}</p>\n                <button class="btn"><i class="fas fa-shopping-cart"></i></button>\n            </div>\n        </div>\n        `,e.appendChild(r)}categoryRender(t){const e=document.getElementById("categories"),r=document.createElement("a");r.innerHTML=`\n            <a href="#" class="btn category_item form-control" name="${t.id}"><strong>${t.name}</strong></a>\n        `,e.appendChild(r)}async buscarProducto(t){const e=await a.findProducts(t);this.vaciarHTML(),this.vaciarBusqueda(),e.forEach(this.productsRender)}async findProductPerCategory(t){const e=t.name,r=await s.findProductPerCategory(e);console.log(r),this.vaciarHTML(),r.forEach(this.productsRender)}vaciarHTML(){document.getElementById("products").innerHTML=""}vaciarBusqueda(){document.getElementsByClassName("buscar")}errorProduct(){window.alert("No existe un producto con ese nombre")}};document.addEventListener("DOMContentLoaded",(()=>{c.renderProduct()})),document.getElementById("buscarProducto").addEventListener("submit",(t=>{const e=document.getElementById("buscar").value;c.buscarProducto(e),t.preventDefault()})),document.getElementById("categories").addEventListener("click",(t=>{c.findProductPerCategory(t.target)}))})()})();
//# sourceMappingURL=bundle.js.map